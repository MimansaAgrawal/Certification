<div
  class="container-fluid"

>
  <common-header 
   [heading]="'UPLOAD DOCUMENTS'"
  [screenId] = "screenId"
  [candidateId] = "candidateId"></common-header>

  <div
    *ngIf="this.currentCandidateData && this.ds.candidateData"
    class="mt-25"
  >
    <div *ngIf="!this.reUpload; else elseBlock" class="mt-25">
      <mat-horizontal-stepper
        linear
        #stepper
        class="mat-h-step"
      >
        <!-- #docregion editable -->
        <mat-step [stepControl]="ds.personalDetailForm" editable="true">
          <!-- #enddocregion editable -->
          <app-personal-details></app-personal-details>
          <div
            class="row detail"

          >
            <div class="col-4 alignment"></div>
            <div class="col-4 alignmenbtn">
              <!-- <button
                mat-button
                matStepperNext
                (click)="this.ds.personalDetailForm.markAllAsTouched()"
                class="btn btn-secondary btn-lg next-button ml-3 next-button"
              > -->

              <button
              mat-button
              matStepperNext
              (click)="this.ds.personalDetailForm.markAllAsTouched()"
              class="button"
            >

                NEXT
              </button>
            </div>
            <div class="col-4"></div>
          </div>
        </mat-step>
        <mat-step [stepControl]="ds.familyDetailForm" editable="true">
          <app-family-details></app-family-details>
          <div class="row  mainNext">
            <!-- <div class="col-4 alignmenbtn"> -->
              <button
                mat-button
                matStepperPrevious
                class="button2"
              >
                BACK
              </button>
            <!-- </div> -->
            <!-- <div class="col-4 alignmentNext"></div>
            <div class="col-4 inline"> -->
              <button
                mat-button
                matStepperNext
                (click)="this.ds.familyDetailForm.markAllAsTouched()"
                class="button ml-3"
              >
                NEXT
              </button>
            </div>
          <!-- </div> -->
        </mat-step>
        <mat-step
          [stepControl]="ds.otherDetailsForm"
          (click)="(this.ds.familyDetailForm)"
          editable="true"
        >
          <app-other-details [isFresher] = "isFresher"></app-other-details>
          <div class="row  mainNext">
            <!-- <div class="col-4 alignmenbtn"> -->
              <button
                mat-button
                matStepperPrevious
                class="button2"
              >
                BACK
              </button>
            <!-- </div> -->
            <!-- <div class="col-4 alignmentNext"></div> -->
            <!-- <div class="col-4 inline"> -->
              <button
                mat-button
                matStepperNext
                (click)="this.ds.otherDetailsForm.markAllAsTouched(); otherDetails();"
                class="button ml-3"
              >
                NEXT
              </button>
            </div>
          <!-- </div> -->
        </mat-step>
        <mat-step [stepControl]="ds.employeeAddressForm" editable="true">
          <app-emp-address-inf></app-emp-address-inf>
          <div class="row mainNext">
            <!-- <div class="col-4 alignmenbtn"> -->
              <button
                mat-button
                matStepperPrevious
                class="button2"
              >
                BACK
              </button>
            <!-- </div> -->
            <!-- <div class="col-4 alignmentNext"></div> -->
            <!-- <div class="col-4 inline"> -->
              <!-- this.ds.employeeAddressForm.markAllAsTouched(); -->
              <button
                mat-button
                matStepperNext
                (click)="this.ds.employeeAddressForm.markAllAsTouched();"
                class="button ml-3"
              >
                NEXT
              </button>
            </div>
          <!-- </div> -->
        </mat-step>
        <mat-step
          [stepControl]="ds.educationalQualificationDetailsForm"
          editable="true"
        >
          <!-- <app-ed-qualif-details></app-ed-qualif-details> -->

          <app-ed-qualif-details> </app-ed-qualif-details>
          <div class="row mainNext">
            <!-- <div class="col-4 alignmenbtn"> -->
              <button
                mat-button
                matStepperPrevious
                class="button2"
              >
                BACK
              </button>
            <!-- </div> -->
            <!-- <div class="col-4 alignmentNext"></div> -->
            <!-- <div class="col-4 inline"> -->
              <button
                mat-button
                matStepperNext
                (click)="
                  this.ds.educationalQualificationDetailsForm.markAllAsTouched()
                "
                class="button ml-3"
              >
                NEXT
              </button>
            <!-- </div> -->
          </div>
        </mat-step>
        <mat-step [stepControl]="ds.allEmploymentDetailForm" editable="true">
          <app-all-emp-details></app-all-emp-details>
          <div class="row  mainNext">
            <!-- <div class="col-4 alignmenbtn"> -->
              <button
                mat-button
                matStepperPrevious
                class="button2"
              >
                BACK
              </button>
            <!-- </div> -->
            <!-- <div class="col-4 alignmentNext"></div> -->
            <!-- <div class="col-4 inline"> -->
              <!-- (click)="this.ds.allEmploymentDetailForm.markAllAsTouched()" -->

              <button
                mat-button
                matStepperNext
                class="button ml-3"
                (click)="this.ds.allEmploymentDetailForm.markAllAsTouched()  ;refer1()"
              >
                NEXT
              </button>
            <!-- </div> -->
          </div>
        </mat-step>
        <mat-step [stepControl]="ds.referenceForm" editable="true">
          <app-references></app-references>
          <div class="row mainNext">
            <!-- <div class="col-4 alignmenbtn"> -->
              <button
                mat-button
                matStepperPrevious
                class="button2"
              >
                BACK
              </button>
            <!-- </div> -->
            <!-- <div class="col-4 alignmentNext"></div> -->
            <!-- <div class="col-4 inline"> -->
              <button
                mat-button
                matStepperNext
                (click)="this.ds.referenceForm.markAllAsTouched(); refer()"
                class="button ml-3"
              >
                NEXT
              </button>
            <!-- </div> -->
          </div>
        </mat-step>
        <mat-step [stepControl]="ds.identityInfoForm" editable="true">
          <app-identity-information></app-identity-information>
          <div class="row mainNext">
            <!-- <div class="col-4 alignmenbtn"> -->
              <button
                mat-button
                matStepperPrevious
                class="button2"
              >
                BACK
              </button>
            <!-- </div> -->
            <!-- <div class="col-4 alignmentNext"></div> -->
            <!-- <div class="col-4 inline"> -->
              <button
                mat-button
                matStepperNext
                (click)="this.ds.identityInfoForm.markAllAsTouched()"
                class="button ml-3"
              >
                NEXT
              </button>
            <!-- </div> -->
          </div>
        </mat-step>
        <mat-step editable="true" [stepControl]="this.ds.checkUploadedDoc">
          <app-document-upload
            [fullData]="currentCandidateData"
            [userId] = "userId"
            [screenId] = "screenId"
          ></app-document-upload>
          <div class="row mainNext mt-2" >
            <!-- <div class="col-4 alignmenbtn"> -->
              <button
                mat-button
                matStepperPrevious
                class="button2"
              >
                BACK
              </button>
            <!-- </div> -->
            <!-- <div class="col-4 alignmentNext"></div> -->
            <!-- <div class="col-4 inline"> -->
              <button
                mat-button
                class="button ml-3"
              (click)="checkUploaded(true,stepper);"
              >
                NEXT
              </button>
            <!-- </div> -->
          </div>
        </mat-step>
        <mat-step>
          <!-- <ng-template matStepLabel>Done</ng-template> -->
          <!-- <p>You are now done.</p> -->
          <div class="modal-header">
            <h4
              class="modal-title pull-left font-weight-bold"
              id="my-modal-title"

            >
              Declaration:
            </h4>
          </div>
          <div class="modal-body">
            <div
              id="my-modal-description"

            >
              <h4>
                Kindly read the below instructions, prior to uploading the
                documents:
              </h4>
              <br />
              <h3>CERTIFICATION BY APPLICANT (please read carefully):</h3>
              <br />

              <p>
                I HEREBY DECLARE THAT ALL THE INFORMATION PROVIDED BY ME IS TRUE
                TO BEST OF MY KNOWLEDGE, ANY DISCREPANCY IN THE SAME, WILL LEAD
                TO FALIURE OF MY EMPLOYMENT WITH GEMINI SOLUTIONS AND ALSO, I
                AUTHORIZE MY EMPLOYER AND ITS VENDORS TO RELEASE ANY AND ALL
                INFORMATION CONCERNING ME, INCLUDING INFORMATION OF A
                CONFIDENTIAL OR PRIVILEGED NATURE. I ALSO HEREBY AUTHORIZE
                "GEMINI SOLUTIONS PVT LTD."AND ANY PERSON ACTING ON ITS BEHALF,
                TO VERIFY THE INFORMATION PRESENTED AND TO PROCURE A BACKGROUND
                SCREENING REPORT. I HEREBY GRANT AUTHORITY FOR BEARER TO ACCESS
                OR TO BE PROVIDED WITH FULL DETAILS OF MY PREVIOUS RECORDS. I
                CERTIFY THAT THE STATEMENTS MADE PRODUCED HERE ARE VALID AND
                COMPLETE TO THE BEST OF MY KNOWLEDGE. I UNDERSTAND THAT FALSE OR
                MISLEADING INFORMATION MAY RESULT IN TERMINATION OF MY
                EMPLOYMENT ALSO, IF UPON INVESTIGATION, ANY OF THIS INFORMATION
                IS FOUND TO BE INCOMPLETE OR INAUTHENTIC WOULD ALSO LEAD TO
                TERMINATION. I HEREBY RELEASE ALL PERSONS OR ENTITIES REQUESTING
                OR SUPPLYING SUCH INFORMATION FROM ALL THE LIABILITY. I HAVE
                READ, UNDERSTOOD, AND CONSENT TO THESE STATEMENTS LISTED ABOVE.
              </p>
              <div class="modal-header"></div>
              <!-- <div class="mt-2">DIGITAL SIGNATURE</div> -->
              <div class="form-check mt-2 float-left">
                <input type="checkbox" class="form-check-input" id="tnc" #checkValue (change)="checkEvent(checkValue.checked)">
                <label class="form-check-label" for="tnc">I accept the <u>Terms and Conditions</u></label>
              </div>
              <!-- <div class="row col-12 mt-4 browse-text">
                <input
                  type="file"
                  accept="application/pdf"
                  name="file1"
                  #file1
                  id="file1"
                />
              </div> -->
              <br />
            </div>
          </div>
          <!--table code-->

          <!--old  code-->
          <div>
            <div class="row ml-auto " >
              <div class="col alignment">
                <button
                  mat-button
                  matStepperPrevious
                  class="button2"
                >
                  BACK
                </button>
              </div>
              <div class="col alignment">
                <button [disabled] ="submitBtn"
                  mat-button
                  (click)="onSubmit()"

                  class="button ml-3"
                >
                  SUBMIT
                </button>
              </div>

              <div class="col alignment">
                <button
                  mat-button
                  (click)="stepper.reset()"
                  class="button2 bg-danger"
                >
                  RESET
                </button>
              </div>
            </div>
          </div>
        </mat-step>

        <ng-template matStepperIcon="edit" >
      <mat-icon>done</mat-icon>

    </ng-template>
      </mat-horizontal-stepper>
    </div>
    <ng-template #elseBlock>
      <app-document-upload
            [fullData]="currentCandidateData"
            [userId] = "userId"
            [screenId] = "screenId"
          ></app-document-upload>
      <div class="row col-12">
        <div class="col-4"></div>
        <div class="col-4 alignment">
          <button
            mat-button
            (click)="onSubmit()"

            class="button ml-3"

          >
            Submit
          </button>
        </div>
        <!-- {{check()}}
      {{!isRequiredDocUploaded}}
      {{check() || !isRequiredDocUploaded}} -->
        <div class="col-4"></div>
      </div>
    </ng-template>
  </div>
</div>

<ng-template #template2>
  <div class="modal-header">
    <h4
      class="modal-title pull-left font-weight-bold"
      id="my-modal-title"

    >
      Declaration:
    </h4>
  </div>
  <div class="modal-body">
    <div
      id="my-modal-description"
    >
      <h4>
        Kindly read the below instructions, prior to uploading the documents:
      </h4>
      <br />
      <h3>CERTIFICATION BY APPLICANT (please read carefully):</h3>
      <br />

      <p>
        I HEREBY DECLARE THAT ALL THE INFORMATION PROVIDED BY ME IS TRUE TO BEST
        OF MY KNOWLEDGE, ANY DISCREPANCY IN THE SAME, WILL LEAD TO FALIURE OF MY
        EMPLOYMENT WITH GEMINI SOLUTIONS AND ALSO, I AUTHORIZE MY EMPLOYER AND
        ITS VENDORS TO RELEASE ANY AND ALL INFORMATION CONCERNING ME, INCLUDING
        INFORMATION OF A CONFIDENTIAL OR PRIVILEGED NATURE. I ALSO HEREBY
        AUTHORIZE "GEMINI SOLUTIONS PVT LTD."AND ANY PERSON ACTING ON ITS
        BEHALF, TO VERIFY THE INFORMATION PRESENTED AND TO PROCURE A BACKGROUND
        SCREENING REPORT. I HEREBY GRANT AUTHORITY FOR BEARER TO ACCESS OR TO BE
        PROVIDED WITH FULL DETAILS OF MY PREVIOUS RECORDS. I CERTIFY THAT THE
        STATEMENTS MADE PRODUCED HERE ARE VALID AND COMPLETE TO THE BEST OF MY
        KNOWLEDGE. I UNDERSTAND THAT FALSE OR MISLEADING INFORMATION MAY RESULT
        IN TERMINATION OF MY EMPLOYMENT ALSO, IF UPON INVESTIGATION, ANY OF THIS
        INFORMATION IS FOUND TO BE INCOMPLETE OR INAUTHENTIC WOULD ALSO LEAD TO
        TERMINATION. I HEREBY RELEASE ALL PERSONS OR ENTITIES REQUESTING OR
        SUPPLYING SUCH INFORMATION FROM ALL THE LIABILITY. I HAVE READ,
        UNDERSTOOD, AND CONSENT TO THESE STATEMENTS LISTED ABOVE.
      </p>
      <br />
    </div>
  </div>
  <!-- <div class=" modal-footer justify-content-center">
    <button class="btn btn-primary col-4" type="button" (click)="finalSubmit()">Confirm</button>
    <button (click)="modalRef.hide()" class="btn btn-secondary col-4" type="button">Cancel</button>
  </div> -->
</ng-template>

<prompt-modal
*ngIf="documentUploaded"
[warningFlag]="'false'"
[modalTitleText]="'Document Uploaded.'"
[modalBodyText]="'Your document has been uploaded successfully'"
[rejectText]="'Close'"
(hideModalEvent)="documentUploadModalClosed()"
> </prompt-modal>