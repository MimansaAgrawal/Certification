<!-- section 4 form start(All employment details) -->
<div class="card m-3 justify-content-center upload-doc-card">
  <!-- Card Heading -->
  <h5 class="card-header upload-doc-card-header">
    6) All Employment Details
  </h5>
  <!-- Card body -->
  <div class="card-body">
    <form [formGroup]="documentService.allEmploymentDetailForm">
      <fieldset class="form-group">
        <div class="row" *ngIf="candidateExp">
          <legend class="col-form-label col-sm-3 pt-0">
            Experience Type<span class="required">*</span> :
          </legend>
          <div class="col-sm-9">
            <div class="form-check">
              <input type="radio" id="Fresher" formControlName="experienceType" value="Fresher"
                [attr.disabled]="!isFresher" [checked]="candidateExp === 'f'" />&nbsp;
              <label for="Fresher">I am a fresher</label>
            </div>
            <div class="form-check">
              <input type="radio" id="Lateral" formControlName="experienceType" value="Lateral"
                [checked]="candidateExp === 'l'" [attr.disabled]="isFresher" />&nbsp;
              <label for="Lateral">I am lateral with prior work experience</label>

              <!-- lateral data -->
              <div *ngIf="
                  documentService.allEmploymentDetailForm.get('experienceType')
                    .value === 'Lateral'
                ">
                <h3>Add Employment <span class="add-emp-heading">
                    <svg width="1em" height="1em" (click)="this.documentService.addEmpEntries()" viewBox="0 0 16 16"
                      class="bi bi-plus-circle-fill add-emp-icon" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd"
                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z" />
                    </svg>
                  </span></h3>
                <div formArrayName="employmentDetail"
                  *ngIf="this.documentService.allEmploymentDetailForm.get('employmentDetail')">
                  <div class="emp-reference" 
                    *ngFor="let group of documentService?.EmpReferenceFormArray()?.controls;let i=index;"
                    [formGroupName]="i">
                    <div class="row">
                      <div class="col-md-6 col-12 top-margin">
                        <div class="form-group col-lg-11">
                          <label for="nameOfCompany">Name of the company<span class="required">*</span></label>
                          <input type="text" class="form-control" id="nameOfCompany" formControlName="nameOfCompany"
                            [ngClass]="{
                          'is-invalid':
                          group.get(
                              'nameOfCompany'
                            ).errors &&
                            (group.get(
                              'nameOfCompany'
                            ).touched ||
                            group.get(
                                'nameOfCompany'
                              ).dirty)
                        }" />
                          <span class="text-danger" *ngIf="
                        group.get(
                            'nameOfCompany'
                          ).errors &&
                          (group.get(
                            'nameOfCompany'
                          ).touched ||
                          group.get(
                              'nameOfCompany'
                            ).dirty)
                        ">
                            <span *ngIf="
                          group.get(
                              'nameOfCompany'
                            ).errors.required
                          ">
                              Name of Company is required
                            </span>
                          </span>
                        </div>
                      </div>

                      <div class="col-md-6 col-12 top-margin">
                        <div class="form-group col-lg-11">
                          <label for="duration">Duration of your employment<span class="required">*</span></label>
                          <input type="text" class="form-control" id="duration" formControlName="duration" [ngClass]="{
                          'is-invalid':
                          group.get(
                              'duration'
                            ).errors &&
                            (group.get(
                              'duration'
                            ).touched ||
                            group.get(
                                'duration'
                              ).dirty)
                        }" />
                          <span class="text-danger" *ngIf="
                        group.get(
                            'duration'
                          ).errors &&
                          (group.get(
                            'duration'
                          ).touched ||
                          group.get(
                              'duration'
                            ).dirty)
                        ">
                            <span *ngIf="
                          group.get(
                              'duration'
                            ).errors.required
                          ">
                              Duration is required
                            </span>
                          </span>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6 col-12 top-margin">
                        <div class="form-group col-lg-11">
                          <label for="designation">Job Title/Designation<span class="required">*</span></label>
                          <input type="text" class="form-control" id="designation" formControlName="designation"
                            [ngClass]="{
                          'is-invalid':
                          group.get(
                              'designation'
                            ).errors &&
                            (group.get(
                              'designation'
                            ).touched ||
                            group.get(
                                'designation'
                              ).dirty)
                        }" />
                          <span class="text-danger" *ngIf="
                        group.get(
                            'designation'
                          ).errors &&
                          (group.get(
                            'designation'
                          ).touched ||
                          group.get(
                              'designation'
                            ).dirty)
                        ">
                            <span *ngIf="
                          group.get(
                              'designation'
                            ).errors.required
                          ">
                              Designation is required
                            </span>
                          </span>
                        </div>
                      </div>

                      <div class="col-md-6 col-12 top-margin">
                        <div class="form-group col-lg-11">
                          <div >
                            Was this your most recent experience?<span class="required">*</span>

                          </div>
                          <div class="row col-12">
                            <div>
                              <input type="radio" id="recentExperienceYes" formControlName="mostRecentExperience"
                                value="true" />&nbsp;
                              <label for="recentExperienceYes">Yes</label>
                            </div>
                            <div class="form-check">
                              <input type="radio" id="recentExperienceNo" formControlName="mostRecentExperience"
                                value="false" />&nbsp;
                              <label for="recentExperienceNo">No</label>
                            </div>
                            <span class=" text-danger error-msg"
                              *ngIf="group.get('mostRecentExperience').errors
                              && (group.get('mostRecentExperience').touched|| group.get('mostRecentExperience').dirty)">
                              <span *ngIf="group.get('mostRecentExperience').errors.required">
                                Recent Experience is required
                              </span>
                            </span>
                          </div>
                        </div>
                      </div>
                      <!-- <div class="row"> -->
                      <!-- </div> -->
                    </div>
                    <div class="row">
                      <div class="col">


                        <span>
                          <!-- <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-dash" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"/>
                        </svg> -->
                          <svg width="1em"
                          *ngIf = "i !== 0"
                            (click)="documentService.removeEmpEntries(i)" height="1em" viewBox="0 0 16 16"
                            class="bi bi-dash-circle-fill remove-emp-icon" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd"
                              d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7z" />
                          </svg>
                        </span>
                      </div>
                    </div>


                  </div>

                </div>
              </div>





            </div>
          </div>
        </div>
      </fieldset>
    </form>
  </div>
</div>
<!-- section 4 form end (All employment details) -->